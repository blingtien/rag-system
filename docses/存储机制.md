RAG-Anythingå®é™…ä¸Šæ‹¥æœ‰å®Œæ•´çš„LightRAGå­˜å‚¨æ¶æ„ï¼ŒåŒ…æ‹¬æ‰€æœ‰9ä¸ªå­˜å‚¨ç»„ä»¶ï¼

  LightRAGå­˜å‚¨ç»„ä»¶é…ç½® (ä»ä»£ç éªŒè¯)

  å‘é‡å­˜å‚¨ (3ä¸ª):
    entities_vdb: "./rag_storage/vdb_entities.json"
    relationships_vdb: "./rag_storage/vdb_relationships.json"
    chunks_vdb: "./rag_storage/vdb_chunks.json"

  KVå­˜å‚¨ (4ä¸ª):
    full_docs: "kv_store_full_docs.json"
    text_chunks: "kv_store_text_chunks.json"
    doc_status: "kv_store_doc_status.json" âœ… (å·²å­˜åœ¨)
    llm_response_cache: "kv_store_llm_response_cache.json" âœ… (å·²å­˜åœ¨)

  å›¾å­˜å‚¨ (1ä¸ª):
    chunk_entity_relation_graph: namespace="chunk_entity_relation"

  å…¶ä»–å­˜å‚¨ (1ä¸ª):
    parse_cache: "kv_store_parse_cache.json" âœ… (å·²å­˜åœ¨)

      å­˜å‚¨æ¶æ„å¯¹æ¯”ï¼šå®é™…vsæ–‡æ¡£

  | å­˜å‚¨ç»„ä»¶  | LightRAGæ–‡æ¡£                    | RAG-Anythingå®ç°                | çŠ¶æ€   |
  |-------|-------------------------------|-------------------------------|------|
  | æ¶æ„å®Œæ•´æ€§ | 9å±‚å­˜å‚¨æ¶æ„                        | 9å±‚å­˜å‚¨æ¶æ„                        | âœ… ç›¸åŒ |
  | æ–‡æ¡£å­˜å‚¨  | full_docs + doc_status        | full_docs + doc_status        | âœ… ç›¸åŒ |
  | å‘é‡å­˜å‚¨  | entities/relations/chunks_vdb | entities/relations/chunks_vdb | âœ… ç›¸åŒ |
  | å›¾å­˜å‚¨   | chunk_entity_relation_graph   | chunk_entity_relation_graph   | âœ… ç›¸åŒ |
  | ä¾èµ–è¿½è¸ª  | source_idæœºåˆ¶                   | source_idæœºåˆ¶                   | âœ… ç›¸åŒ |
  | åˆ é™¤æœºåˆ¶  | çº§è”åˆ é™¤+é‡å»º                       | çº§è”åˆ é™¤+é‡å»º                       | âœ… ç›¸åŒ |


  æ˜¯çš„ï¼Œæ‰€æœ‰æ•°æ®åº“å­˜å‚¨æ–‡ä»¶éƒ½åº”è¯¥åœ¨RAG-Anything\rag_storageæ–‡ä»¶å¤¹ä¸­

  å®Œæ•´çš„LightRAGå­˜å‚¨æ–‡ä»¶åˆ—è¡¨

  å‘é‡æ•°æ®åº“å­˜å‚¨ (3ä¸ª):
  - vdb_entities.json - å®ä½“å‘é‡æ•°æ®åº“
  - vdb_relationships.json - å…³ç³»å‘é‡æ•°æ®åº“
  - vdb_chunks.json - æ–‡æœ¬å—å‘é‡æ•°æ®åº“

  KVé”®å€¼å­˜å‚¨ (6ä¸ª):
  - kv_store_full_docs.json - åŸå§‹æ–‡æ¡£å®Œæ•´å†…å®¹
  - kv_store_text_chunks.json - æ–‡æœ¬å—å†…å®¹å’Œå…ƒæ•°æ®
  - kv_store_doc_status.json - æ–‡æ¡£å¤„ç†çŠ¶æ€ âœ… (å·²å­˜åœ¨)
  - kv_store_chunk_entity_relation.json - çŸ¥è¯†å›¾è°±æ•°æ®
  - kv_store_full_entities.json - å®ä½“å®Œæ•´å…ƒæ•°æ®
  - kv_store_full_relations.json - å…³ç³»å®Œæ•´å…ƒæ•°æ®
  - kv_store_llm_response_cache.json - LLMå“åº”ç¼“å­˜ âœ… (å·²å­˜åœ¨)
  - kv_store_parse_cache.json - è§£æç»“æœç¼“å­˜ âœ… (å·²å­˜åœ¨)


  ğŸ“ RAG-Anythingç›®å½•ç»“æ„ä½œç”¨å¯¹æ¯”

  /rag_storage ç›®å½• - LightRAGçŸ¥è¯†åº“å­˜å‚¨

  ä½œç”¨: LightRAGçš„æ ¸å¿ƒæ•°æ®å­˜å‚¨ç›®å½•
  å†…å®¹: çŸ¥è¯†å›¾è°±ã€å‘é‡æ•°æ®åº“ã€æ–‡æ¡£çŠ¶æ€ç­‰
  æ–‡ä»¶ç±»å‹:
    - kv_store_*.json: KVé”®å€¼å­˜å‚¨
    - vdb_*.json: å‘é‡æ•°æ®åº“å­˜å‚¨
    - çŸ¥è¯†å›¾è°±å’Œå®ä½“å…³ç³»æ•°æ®

  ç›®å‰çŠ¶æ€: åªæœ‰3ä¸ªæ–‡ä»¶(å¤§éƒ¨åˆ†æ–‡æ¡£å¤„ç†æœªå®Œæˆ)
  é¢„æœŸçŠ¶æ€: åº”æœ‰9ä¸ªå­˜å‚¨æ–‡ä»¶(æ–‡æ¡£å¤„ç†å®Œæˆå)

  /output ç›®å½• - è§£æå™¨è¾“å‡ºå­˜å‚¨

  ä½œç”¨: MinerU/Doclingè§£æå™¨çš„åŸå§‹è¾“å‡ºç›®å½•
  å†…å®¹: æ–‡æ¡£è§£æçš„ä¸­é—´ç»“æœå’Œæå–å†…å®¹
  æ–‡ä»¶ç»“æ„:
    /{æ–‡æ¡£å}/
      /auto/                    # è§£ææ–¹æ³•ç›®å½•
        /{æ–‡æ¡£å}_content_list.json    # ç»“æ„åŒ–å†…å®¹åˆ—è¡¨
        /{æ–‡æ¡£å}_model.json          # æ–‡æ¡£æ¨¡å‹æ•°æ®
        /{æ–‡æ¡£å}_middle.json         # ä¸­é—´å¤„ç†ç»“æœ
        /{æ–‡æ¡£å}.md                  # Markdownæ ¼å¼
        /{æ–‡æ¡£å}_layout.pdf          # å¸ƒå±€PDF
        /{æ–‡æ¡£å}_origin.pdf          # åŸå§‹PDF
        /{æ–‡æ¡£å}_span.pdf            # è·¨åº¦PDF
        /images/                     # æå–çš„å›¾ç‰‡æ–‡ä»¶
          /{hash}.jpg               # å›¾ç‰‡æ–‡ä»¶(æŒ‰å†…å®¹hashå‘½å)

  ç”¨é€”: ä¸ºRAG-Anythingæä¾›ç»“æ„åŒ–çš„è§£æè¾“å…¥

  ğŸ”„ ä¸¤ä¸ªç›®å½•çš„å…³ç³»

  æ–‡æ¡£è§£ææµç¨‹:
  åŸå§‹æ–‡æ¡£ â†’ MinerU/Doclingè§£æ â†’ /output/{æ–‡æ¡£å}/ â†’ å†…å®¹æå– â†’ /rag_storage/ (LightRAGå­˜å‚¨)

  å…·ä½“è·¯å¾„:
  1. ä¸Šä¼ åˆ° /uploads/{æ–‡ä»¶å}
  2. è§£æåˆ° /output/{æ–‡æ¡£å}/auto/{æ–‡æ¡£å}_content_list.json
  3. å¤„ç†åˆ° /rag_storage/vdb_*.json + kv_store_*.json

  ğŸ“Š æ•°æ®å¯¹æ¯”

  è§£æè¾“å‡º(/output):
  - åŸå§‹è§£æç»“æœï¼ŒæŒ‰æ–‡æ¡£ç»„ç»‡
  - åŒ…å«å›¾ç‰‡ã€è¡¨æ ¼ã€æ–‡æœ¬çš„åŸå§‹æå–
  - æ–‡ä»¶è¾ƒå¤§ï¼ŒåŒ…å«å®Œæ•´å¸ƒå±€ä¿¡æ¯

  çŸ¥è¯†å­˜å‚¨(/rag_storage):
  - å¤„ç†åçš„çŸ¥è¯†å›¾è°±æ•°æ®
  - æŒ‰å®ä½“ã€å…³ç³»ã€å‘é‡ç»„ç»‡
  - ä¼˜åŒ–å­˜å‚¨ï¼Œæ”¯æŒæ£€ç´¢å’Œæ¨ç†

  æ‰€ä»¥/outputæ˜¯è§£æå™¨çš„å·¥ä½œç›®å½•ï¼Œ/rag_storageæ˜¯LightRAGçš„æ•°æ®åº“ç›®å½•ã€‚ä¸¤è€…åˆ†å·¥æ˜ç¡®ï¼Œoutputè´Ÿè´£æ–‡æ¡£è§£æï¼Œ
  rag_storageè´Ÿè´£çŸ¥è¯†å­˜å‚¨ï¼

adelete_by_doc_id() ä¸æ˜¯ç®€å•çš„"åˆ é™¤æ–‡ä»¶"ã€‚åœ¨æˆ‘ä»¬çš„ç³»ç»Ÿä¸­ï¼Œä¸€ä¸ªæ–‡æ¡£åˆ é™¤ä¼šï¼š                                 â”‚
â”‚                                                                                                                â”‚
â”‚     1. å‘é‡æ•°æ®åº“æ¸…ç† â†’ vdb_chunks.json, vdb_entities.json, vdb_relationships.json                             â”‚
â”‚     2. å›¾æ•°æ®åº“æ›´æ–° â†’ graph_chunk_entity_relation.graphml                                                      â”‚
â”‚     3. çŠ¶æ€å­˜å‚¨åŒæ­¥ â†’ kv_store_doc_status.json, kv_store_full_docs.json                                        â”‚
â”‚     4. çŸ¥è¯†å›¾è°±é‡å»º â†’ å—å½±å“å®ä½“/å…³ç³»çš„æ™ºèƒ½æ›´æ–°
vdb_chunks.json, vdb_entities.json, vdb_relationships.json graph_chunk_entity_relation.graphml kv_store_doc_status.json, kv_store_full_docs.json

LightRAGå·²ç»åˆå§‹åŒ–