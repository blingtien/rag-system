#!/usr/bin/env python3
"""
RAG System é¡¹ç›®ç»“æ„ ASCII å¯è§†åŒ–
åœ¨ç»ˆç«¯ä¸­å±•ç¤ºé¡¹ç›®æ¶æ„å’Œç»„ä»¶å…³ç³»
"""

def print_project_structure():
    """æ‰“å°é¡¹ç›®ç»“æ„æ ‘"""
    print("â•" * 80)
    print("ğŸš€ RAG System é¡¹ç›®æ¶æ„å¯è§†åŒ–")
    print("â•" * 80)
    
    structure = """
ragsystem/
â”œâ”€â”€ ğŸš€ RAG-Anything/           # æ ¸å¿ƒRAGç³»ç»Ÿ
â”‚   â”œâ”€â”€ ğŸŒ api/                # APIæœåŠ¡å±‚
â”‚   â”‚   â”œâ”€â”€ rag_api_server.py         # ä¸»APIæœåŠ¡å™¨
â”‚   â”‚   â”œâ”€â”€ smart_parser_router.py    # æ™ºèƒ½è§£æè·¯ç”±
â”‚   â”‚   â”œâ”€â”€ cache_enhanced_processor.py # ç¼“å­˜å¢å¼ºå¤„ç†
â”‚   â”‚   â””â”€â”€ websocket_log_handler.py  # WebSocketæ—¥å¿—
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ§  raganything/        # æ ¸å¿ƒä¸šåŠ¡å±‚
â”‚       â”œâ”€â”€ raganything.py            # ä¸»ä¸šåŠ¡é€»è¾‘
â”‚       â”œâ”€â”€ processor.py              # æ–‡æ¡£å¤„ç†å™¨
â”‚       â”œâ”€â”€ parser.py                 # è§£æå™¨æ¡†æ¶
â”‚       â””â”€â”€ batch.py                  # æ‰¹é‡å¤„ç†
â”‚
â”œâ”€â”€ ğŸŒ webui/                  # Reactå‰ç«¯ç•Œé¢
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ pages/                    # é¡µé¢ç»„ä»¶
â”‚       â””â”€â”€ components/               # é€šç”¨ç»„ä»¶
â”‚
â”œâ”€â”€ ğŸ“š LightRAG/               # ä¸Šæ¸¸LightRAGåº“
â”œâ”€â”€ ğŸ”§ docs/                   # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ ğŸ’¾ rag_storage/            # RAGæ•°æ®å­˜å‚¨
â”‚   â””â”€â”€ graph_chunk_entity_relation.graphml
â””â”€â”€ âš™ï¸  é…ç½®æ–‡ä»¶
    â”œâ”€â”€ database_config.py
    â””â”€â”€ .env
"""
    print(structure)

def print_storage_architecture():
    """æ‰“å°å­˜å‚¨æ¶æ„å›¾"""
    print("\n" + "â•" * 80)
    print("ğŸ’¾ å­˜å‚¨æ¶æ„å›¾")
    print("â•" * 80)
    
    storage_diagram = """
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          RAG System å­˜å‚¨å±‚                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚               â”‚               â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
            â”‚  ğŸ˜ PostgreSQL â”‚ â”‚ ğŸ•¸ï¸ Neo4j  â”‚ â”‚ ğŸ“„ GraphML â”‚
            â”‚                â”‚ â”‚           â”‚ â”‚   æ–‡ä»¶      â”‚
            â”‚ â€¢ æ–‡æ¡£çŠ¶æ€      â”‚ â”‚ â€¢ å®ä½“å›¾è°± â”‚ â”‚ â€¢ Chunkå…³è” â”‚
            â”‚ â€¢ KVå­˜å‚¨       â”‚ â”‚ â€¢ è¯­ä¹‰å…³ç³» â”‚ â”‚ â€¢ æœ¬åœ°å›¾å­˜å‚¨ â”‚
            â”‚ â€¢ å‘é‡ç´¢å¼•     â”‚ â”‚ â€¢ å›¾æŸ¥è¯¢   â”‚ â”‚ â€¢ å¿«é€Ÿè®¿é—®  â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚               â”‚               â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
            â”‚ 553ä¸ªå®ä½“èŠ‚ç‚¹  â”‚ â”‚ 369ä¸ªå…³ç³» â”‚ â”‚ 484ä¸ªèŠ‚ç‚¹  â”‚
            â”‚ lightrag_*è¡¨   â”‚ â”‚ å›¾è°±æ¨ç†  â”‚ â”‚ 362æ¡è¾¹    â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
"""
    print(storage_diagram)

def print_data_flow():
    """æ‰“å°æ•°æ®æµç¨‹å›¾"""
    print("\n" + "â•" * 80)
    print("ğŸ”„ æ•°æ®æµç¨‹å›¾")
    print("â•" * 80)
    
    flow_diagram = """
ğŸ“„ æ–‡æ¡£ä¸Šä¼  â†’ ğŸ” æ ¼å¼è¯†åˆ« â†’ ğŸ§  æ™ºèƒ½è§£æ â†’ ğŸ“Š å†…å®¹æå– â†’ ğŸ—ï¸ ç»“æ„åŒ–å¤„ç†
     â”‚             â”‚             â”‚             â”‚             â”‚
     â–¼             â–¼             â–¼             â–¼             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Web UI â”‚   â”‚ Parser  â”‚   â”‚ MinerU  â”‚   â”‚ Extract â”‚   â”‚ Chunks  â”‚
â”‚         â”‚   â”‚ Router  â”‚   â”‚ Docling â”‚   â”‚ Content â”‚   â”‚ Vector  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                              â”‚
                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                            â”‚                 â”‚                 â”‚
                       â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â–¼â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
                       â”‚ ğŸ§  å®ä½“è¯†åˆ« â”‚     â”‚ ğŸ”— å…³ç³» â”‚       â”‚ ğŸ—‚ï¸ çŸ¥è¯†å›¾è°±  â”‚
                       â”‚          â”‚     â”‚   æŠ½å–  â”‚       â”‚           â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚                 â”‚                 â”‚
                            â–¼                 â–¼                 â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚              ğŸ’¾ å¤šå±‚å­˜å‚¨ç³»ç»Ÿ                        â”‚
                    â”‚  PostgreSQL + Neo4j + GraphML + Redis(å¯é€‰)      â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â“ ç”¨æˆ·æŸ¥è¯¢ â†’ ğŸ§  è¯­ä¹‰ç†è§£ â†’ ğŸ” å¤šè·¯æ£€ç´¢ â†’ ğŸ¯ ç»“æœèåˆ â†’ âœ¨ ç­”æ¡ˆç”Ÿæˆ â†’ ğŸ“¤ è¿”å›ç»“æœ
"""
    print(flow_diagram)

def print_component_relationships():
    """æ‰“å°ç»„ä»¶å…³ç³»å›¾"""
    print("\n" + "â•" * 80)
    print("ğŸ”— ç»„ä»¶å…³ç³»å›¾")
    print("â•" * 80)
    
    components = """
                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                          â”‚   ğŸŒ Web UI     â”‚
                          â”‚   (React)       â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚ HTTP/WebSocket
                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”
                          â”‚  ğŸ¯ API Gateway â”‚
                          â”‚   (FastAPI)     â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚                       â”‚                       â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
    â”‚ ğŸ§  æ™ºèƒ½è·¯ç”±    â”‚        â”‚ ğŸ“„ æ–‡æ¡£å¤„ç†   â”‚        â”‚ ğŸ•¸ï¸ çŸ¥è¯†å›¾è°±  â”‚
    â”‚ Smart Router â”‚        â”‚ Processor    â”‚        â”‚ Graph KG   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
            â”‚                      â”‚                      â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
                          â”‚  ğŸ’¾ å­˜å‚¨å±‚       â”‚
                          â”‚  Storage Layer  â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
"""
    print(components)

def print_technology_stack():
    """æ‰“å°æŠ€æœ¯æ ˆ"""
    print("\n" + "â•" * 80)
    print("ğŸ› ï¸ æŠ€æœ¯æ ˆ")
    print("â•" * 80)
    
    tech_stack = """
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   å‰ç«¯å±‚     â”‚   APIå±‚     â”‚   ä¸šåŠ¡å±‚     â”‚   å­˜å‚¨å±‚     â”‚   å¤–éƒ¨æœåŠ¡   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ React 18    â”‚ FastAPI     â”‚ LightRAG    â”‚ PostgreSQL  â”‚ DeepSeek    â”‚
â”‚ TypeScript  â”‚ WebSocket   â”‚ Python 3.9+ â”‚ pgvector    â”‚ API         â”‚
â”‚ Ant Design  â”‚ Uvicorn     â”‚ AsyncIO     â”‚ Neo4j       â”‚             â”‚
â”‚ D3.js       â”‚ Pydantic    â”‚ NetworkX    â”‚ GraphML     â”‚ Qwen3-Embed â”‚
â”‚ Vite        â”‚ CORS        â”‚ Cache       â”‚ Redis       â”‚ (æœ¬åœ°æ¨¡å‹)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ“¦ è§£æå¼•æ“:        ğŸ¯ æ¨¡å‹é›†æˆ:        ğŸ”§ å¼€å‘å·¥å…·:
â”œâ”€ MinerU (PDF)     â”œâ”€ DeepSeek LLM     â”œâ”€ Docker Compose
â”œâ”€ Docling          â”œâ”€ æœ¬åœ° Embedding   â”œâ”€ Environment Config
â””â”€ å¤šæ¨¡æ€æ”¯æŒ       â””â”€ æ™ºèƒ½ç¼“å­˜æœºåˆ¶     â””â”€ Git ç‰ˆæœ¬æ§åˆ¶
"""
    print(tech_stack)

def print_performance_metrics():
    """æ‰“å°æ€§èƒ½æŒ‡æ ‡"""
    print("\n" + "â•" * 80)
    print("ğŸ“Š ç³»ç»Ÿæ€§èƒ½æŒ‡æ ‡")
    print("â•" * 80)
    
    metrics = """
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¦â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¦â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘   å¤„ç†èƒ½åŠ›     â•‘     å­˜å‚¨è§„æ¨¡      â•‘    å“åº”æ€§èƒ½       â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¬â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¬â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ æ–‡æ¡£è§£æ      â•‘ å•æ–‡æ¡£: 100MB    â•‘ æŸ¥è¯¢å“åº”: 200-800ms â•‘
â•‘ 2-5ç§’/PDFé¡µ   â•‘ æ€»å®¹é‡: æ— é™åˆ¶   â•‘ æ‰¹é‡å¤„ç†: å¹¶å‘     â•‘
â•‘               â•‘                  â•‘                  â•‘
â•‘ å¹¶å‘å¤„ç†      â•‘ çŸ¥è¯†å›¾è°±         â•‘ å®æ—¶é€šä¿¡          â•‘
â•‘ å¯é…ç½®çº¿ç¨‹æ•°  â•‘ ç™¾ä¸‡çº§å®ä½“å…³ç³»   â•‘ WebSocketæ¨é€     â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•©â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•©â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ¯ æ¶æ„ä¼˜åŠ¿:
â€¢ æ··åˆå­˜å‚¨: å……åˆ†å‘æŒ¥ä¸åŒæ•°æ®åº“ä¼˜åŠ¿
â€¢ æ™ºèƒ½è·¯ç”±: è‡ªåŠ¨é€‰æ‹©æœ€ä¼˜è§£æç­–ç•¥
â€¢ å®æ—¶åé¦ˆ: WebSocket ç»†ç²’åº¦è¿›åº¦è¿½è¸ª
â€¢ ç¼“å­˜ä¼˜åŒ–: å¤šå±‚ç¼“å­˜æå‡æ€§èƒ½
"""
    print(metrics)

def main():
    """ä¸»å‡½æ•°"""
    print_project_structure()
    print_storage_architecture() 
    print_data_flow()
    print_component_relationships()
    print_technology_stack()
    print_performance_metrics()
    
    print("\n" + "â•" * 80)
    print("âœ… RAG System é¡¹ç›®ç»“æ„å¯è§†åŒ–å®Œæˆ")
    print("ğŸ“ è¯¦ç»†æ–‡æ¡£ä½ç½®: /home/ragsvr/projects/ragsystem/docs/")
    print("â•" * 80)

if __name__ == "__main__":
    main()